{% extends 'base.html' %}
{% block title %} Dashboard - {{user.fullname}} {% endblock %}
{% block content %}
<link rel="stylesheet" href="{{url_for('static', filename='styles/tasks.css')}}">
<link rel="stylesheet" href="{{url_for('static', filename='styles/dashboard.css')}}">
    <div class="wellcome-text"><h1>Wellcome Back, <a href="#">{{user.fullname}}</a><br>{{time}}</h1></div>
    <div class="container">
        <section class="tasks">
            <header class="tasks-header">
                <h2 class="tasks-title">Tasks</h2>
                <a href="index.html" class="tasks-lists">Lists</a>
            </header>
            <fieldset class="tasks-list">
                <label class="tasks-list-item">
                    <input type="checkbox" name="task_1" value="1" class="tasks-list-cb" checked onclick="manageTask(1);">
                    <span class="tasks-list-mark"></span>
                    <span class="tasks-list-desc">Check This</span>
                </label>
                <label class="tasks-list-item">
                    <input type="checkbox" name="task_2" value="1" class="tasks-list-cb" checked onclick="manageTask(1);">
                    <span class="tasks-list-mark"></span>
                    <span class="tasks-list-desc">Then This</span>
                </label>
                <label class="tasks-list-item">
                    <input type="checkbox" name="task_3" value="1" class="tasks-list-cb" onclick="manageTask(1);">
                    <span class="tasks-list-mark"></span>
                    <span class="tasks-list-desc">And Go!</span>
                </label>
            </fieldset>
          </section>
    </div>
    <script>
        function manageTask(taskId) {
            fetch('/manage_task/', {
                method : 'POST',
                body : JSON.stringify({taskId : taskId})
            }).then((_res)=>{
                window.location.href = '{{url_for("dashboard.dashboard_page", user=user)}}';
            })
        }
    </script>
{% endblock %}